# ===================================================
# Agent Configuration File - Example
# ===================================================
# Copy file này thành config.yaml và điền thông tin thực

agent:
  # Hostname của máy - sẽ tự động lấy từ system nếu không điền
  # Dùng để identify agent khi đăng ký với backend
  hostname: "ubuntu-server-01"
  
  # Tên hiển thị của agent
  name: "Ubuntu Server 01"
  
  # Loại OS: "ubuntu" hoặc "windows"
  os_type: "ubuntu"
  
  # Hostname của máy (optional - sẽ auto-detect nếu không có)
  # hostname: "ubuntu-server-01"

backend:
  # URL của Backend API
  api_url: "http://localhost:8000"
  
  # JWT token để authenticate với backend
  # Lấy token bằng cách:
  # 1. Login vào backend: POST /api/v1/auth/login
  # 2. Copy access_token từ response
  api_token: "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
  
  # Timeout cho mỗi request (giây)
  timeout: 30
  
  # Số lần retry khi request fail
  retry_attempts: 3

scanner:
  # Thời gian giữa mỗi lần scan (giây)
  # 3600 = 1 giờ, 1800 = 30 phút
  scan_interval: 3600
  
  # Đường dẫn tới file rules JSON
  # Ubuntu: ./agent/rules/ubuntu_rules.json
  # Windows: ./agent/rules/windows_rules.json
  rules_path: "./agent/rules/ubuntu_rules.json"
  
  # Timeout cho mỗi command (giây)
  command_timeout: 10
  
  # Có gửi kết quả PASS lên backend không? (true/false)
  # false = chỉ gửi FAIL và ERROR (tiết kiệm bandwidth)
  report_pass_results: false

logging:
  # Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
  level: "INFO"
  
  # Đường dẫn file log
  log_file: "./logs/agent.log"
  
  # Kích thước tối đa của 1 file log (bytes)
  # 10485760 = 10MB
  max_bytes: 10485760
  
  # Số file log backup giữ lại
  backup_count: 5
  
  # Có in log ra console không? (true/false)
  console_output: true

# ===================================================
# HƯỚNG DẪN SỬ DỤNG:
# ===================================================
#
# 1. Copy file này:
#    cp config.example.yaml config.yaml
#
# 2. Lấy JWT token từ backend:
#    curl -X POST http://localhost:8000/api/v1/auth/login \
#      -H "Content-Type: application/json" \
#      -d '{"username": "admin", "password": "admin123"}'
#
# 3. Copy access_token vào backend.api_token
#
# 4. Đổi agent_id và name theo máy của bạn
#
# 5. Chạy agent:
#    python agent/linux/main.py
#
# ===================================================
